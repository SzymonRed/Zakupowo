Index: Zakupowo/Controllers/CategoryController.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System;\r\nusing System.Data.Entity;\r\nusing System.IO;\r\nusing System.Linq;\r\nusing System.Web.Hosting;\r\nusing System.Web.Mvc;\r\nusing iText.Kernel.Font;\r\nusing iText.Kernel.Pdf;\r\nusing iText.Layout;\r\nusing iText.Layout.Element;\r\nusing iText.Layout.Properties;\r\nusing Zakupowo.Models;\r\n\r\nnamespace Zakupowo.Controllers;\r\n\r\npublic class CategoryController : Controller\r\n{\r\n    private ZakupowoDbContext db = new ZakupowoDbContext();\r\n    \r\n    public ActionResult AddCategory()\r\n    {\r\n        var categories = db.Categories.ToList();\r\n\r\n        ViewBag.Categories = new SelectList(categories, \"CategoryId\", \"Name\");\r\n\r\n        return View();\r\n    }\r\n\r\n    [HttpPost]\r\n    [ValidateAntiForgeryToken]\r\n    public ActionResult AddCategory(Category model)\r\n    {\r\n        if (ModelState.IsValid)\r\n        {\r\n            db.Categories.Add(model);\r\n            db.SaveChanges();\r\n\r\n            TempData[\"CategorySuccess\"] = \"Kategoria została dodana!\";\r\n            return RedirectToAction(\"AddCategory\");\r\n        }\r\n\r\n        ViewBag.Categories = new SelectList(db.Categories.ToList(), \"CategoryId\", \"Name\");\r\n        return View(model);\r\n    }\r\n    public ActionResult CategoryList()\r\n    {\r\n        var categories = db.Categories.ToList();\r\n        return View(categories);\r\n    }\r\n    public ActionResult AdminCategoryList()\r\n    {\r\n        var categories = db.Categories.ToList();\r\n        return View(categories);\r\n    }\r\n    public ActionResult EditCategory(int id)\r\n    {\r\n        var category = db.Categories.Find(id);\r\n        if (category == null)\r\n        {\r\n            return HttpNotFound();\r\n        }\r\n\r\n        ViewBag.Categories = new SelectList(db.Categories.Where(c => c.CategoryId != id).ToList(), \"CategoryId\", \"Name\");\r\n        return View(category);\r\n    }\r\n\r\n    [HttpPost]\r\n    [ValidateAntiForgeryToken]\r\n    public ActionResult EditCategory(Category model)\r\n    {\r\n        if (ModelState.IsValid)\r\n        {\r\n            db.Entry(model).State = EntityState.Modified;\r\n            db.SaveChanges();\r\n\r\n            TempData[\"CategorySuccess\"] = \"Kategoria została zaktualizowana!\";\r\n            return RedirectToAction(\"AdminCategoryList\");\r\n        }\r\n\r\n        ViewBag.Categories = new SelectList(db.Categories.Where(c => c.CategoryId != model.CategoryId).ToList(), \"CategoryId\", \"Name\");\r\n        return View(model);\r\n    }\r\n\r\n    public ActionResult DeleteCategory(int id)\r\n    {\r\n        var category = db.Categories.Find(id);\r\n        if (category == null)\r\n        {\r\n            return HttpNotFound();\r\n        }\r\n\r\n        return View(category);\r\n    }\r\n    \r\n    [HttpPost, ActionName(\"DeleteCategory\")]\r\n    [ValidateAntiForgeryToken]\r\n    public ActionResult ConfirmDeleteCategory(int id)\r\n    {\r\n        var category = db.Categories.Find(id);\r\n        if (category != null)\r\n        {\r\n            db.Categories.Remove(category);\r\n            db.SaveChanges();\r\n            TempData[\"CategorySuccess\"] = \"Kategoria została usunięta!\";\r\n        }\r\n\r\n        return RedirectToAction(\"AdminCategoryList\");\r\n    }\r\n        public ActionResult GeneratePdf(int categoryId)\r\n        {\r\n            var category = db.Categories.FirstOrDefault(c => c.CategoryId == categoryId);\r\n            if (category == null)\r\n            {\r\n                return HttpNotFound(\"Nie znaleziono kategorii.\");\r\n            }\r\n\r\n            var products = db.Products\r\n                .Where(p => p.CategoryId == categoryId)\r\n                .OrderBy(p => p.Name).Include(product => product.VatRate)\r\n                .ToList();\r\n\r\n            var tempPath = Path.Combine(Path.GetTempPath(), $\"Cennik_{category.Name}.pdf\");\r\n            string fontPath = HostingEnvironment.MapPath(\"~/Fonts/arial.ttf\");\r\n\r\n            using (var writer = new PdfWriter(tempPath))\r\n            {\r\n                using (var pdf = new PdfDocument(writer))\r\n                {\r\n                    var document = new Document(pdf);\r\n                    PdfFont font = PdfFontFactory.CreateFont(fontPath);\r\n                    \r\n                    document.SetFont(font);\r\n\r\n                    document.Add(new Paragraph($\"Cennik dla kategorii: {category.Name}\")\r\n                        .SetFontSize(18)\r\n                        .SimulateBold());\r\n                    \r\n                    var table = new Table(3); \r\n                    \r\n                    table.AddHeaderCell(\"Nazwa produktu\");\r\n                    table.AddHeaderCell(\"Cena netto\");\r\n                    table.AddHeaderCell(\"Cena brutto\");\r\n\r\n                    \r\n                    foreach (var product in products)\r\n                    {\r\n                        table.AddCell(product.Name);\r\n                        table.AddCell(product.Price.ToString(\"C\")); \r\n                        if (product.VatRate != null && product.VatRate.Rate.HasValue)\r\n                        {\r\n                            var grossPrice = product.Price * (1 + product.VatRate.Rate.Value);\r\n                            table.AddCell(grossPrice.ToString(\"C\")); \r\n                        }\r\n                        else\r\n                        {\r\n                            table.AddCell(\"Zwolniony z VAT\"); \r\n                        }\r\n                    }\r\n\r\n                    document.Add(table);\r\n\r\n                    document.Add(new Paragraph(\"Wygenerowano automatycznie przez system Zakupowo.\")\r\n                        .SetFontSize(10)\r\n                        .SimulateItalic());\r\n                }\r\n            }\r\n            var fileBytes = System.IO.File.ReadAllBytes(tempPath);\r\n            System.IO.File.Delete(tempPath); \r\n            return File(fileBytes, \"application/pdf\", $\"Cennik_{category.Name}.pdf\");\r\n        }\r\n    }\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Controllers/CategoryController.cs b/Zakupowo/Controllers/CategoryController.cs
--- a/Zakupowo/Controllers/CategoryController.cs	(revision fa7f8c2aa8c1fb498f0b7c4313ea8a4ea8f1b644)
+++ b/Zakupowo/Controllers/CategoryController.cs	(date 1734193248279)
@@ -44,9 +44,15 @@
     }
     public ActionResult CategoryList()
     {
-        var categories = db.Categories.ToList();
+        // Pobieramy tylko kategorie nadrzędne i ich podkategorie
+        var categories = db.Categories
+            .Include(c => c.SubCategories) // Ładujemy podkategorie
+            .Where(c => c.ParentCategoryId == null) // Tylko kategorie nadrzędne
+            .ToList();
+
         return View(categories);
     }
+
     public ActionResult AdminCategoryList()
     {
         var categories = db.Categories.ToList();
Index: Zakupowo/Views/Category/CategoryList.cshtml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@model IEnumerable<Zakupowo.Models.Category>\r\n@{\r\nViewBag.Title = \"Lista kategorii\";\r\n}\r\n\r\n<h2>Lista kategorii</h2>\r\n\r\n@if (Model.Any())\r\n{\r\n<table class=\"table\">\r\n    <thead>\r\n    <tr>\r\n        <th>Nazwa</th>\r\n        <th>Kategoria nadrzędna</th>\r\n        <th>Akcje</th>\r\n    </tr>\r\n    </thead>\r\n    <tbody>\r\n    @foreach (var category in Model)\r\n    {\r\n    <tr>\r\n        <td>@category.Name</td>\r\n        <td>@(category.ParentCategory?.Name ?? \"Brak\")</td>\r\n        <td>\r\n            @Html.ActionLink(\"Generuj cennik PDF\", \"GeneratePdf\", \"Category\", new { categoryId = category.CategoryId }, new { @class = \"btn btn-primary btn-sm\" })\r\n        </td>\r\n    </tr>\r\n    }\r\n    </tbody>\r\n</table>\r\n}\r\nelse\r\n{\r\n<p>Nie znaleziono żadnych kategorii.</p>\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Views/Category/CategoryList.cshtml b/Zakupowo/Views/Category/CategoryList.cshtml
--- a/Zakupowo/Views/Category/CategoryList.cshtml	(revision fa7f8c2aa8c1fb498f0b7c4313ea8a4ea8f1b644)
+++ b/Zakupowo/Views/Category/CategoryList.cshtml	(date 1734192083882)
@@ -7,27 +7,12 @@
 
 @if (Model.Any())
 {
-<table class="table">
-    <thead>
-    <tr>
-        <th>Nazwa</th>
-        <th>Kategoria nadrzędna</th>
-        <th>Akcje</th>
-    </tr>
-    </thead>
-    <tbody>
+<ul>
     @foreach (var category in Model)
     {
-    <tr>
-        <td>@category.Name</td>
-        <td>@(category.ParentCategory?.Name ?? "Brak")</td>
-        <td>
-            @Html.ActionLink("Generuj cennik PDF", "GeneratePdf", "Category", new { categoryId = category.CategoryId }, new { @class = "btn btn-primary btn-sm" })
-        </td>
-    </tr>
+    @Html.Partial("_CategoryTree", category)
     }
-    </tbody>
-</table>
+</ul>
 }
 else
 {
Index: Zakupowo/Models/Category.cs
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>using System.ComponentModel.DataAnnotations;\r\nusing System.ComponentModel.DataAnnotations.Schema;\r\n\r\nnamespace Zakupowo.Models\r\n{\r\n    public class Category\r\n    {\r\n        [Key]\r\n        public int CategoryId { get; set; }\r\n\r\n        [Required]\r\n        [MaxLength(100)]\r\n        public string Name { get; set; }\r\n\r\n        [Required]\r\n        public bool IsHidden { get; set; }\r\n\r\n        [ForeignKey(\"ParentCategory\")]\r\n        public int? ParentCategoryId { get; set; }\r\n\r\n        public virtual Category ParentCategory { get; set; }\r\n    }\r\n    \r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Models/Category.cs b/Zakupowo/Models/Category.cs
--- a/Zakupowo/Models/Category.cs	(revision fa7f8c2aa8c1fb498f0b7c4313ea8a4ea8f1b644)
+++ b/Zakupowo/Models/Category.cs	(date 1734191954113)
@@ -1,3 +1,4 @@
+using System.Collections.Generic;
 using System.ComponentModel.DataAnnotations;
 using System.ComponentModel.DataAnnotations.Schema;
 
@@ -19,6 +20,7 @@
         public int? ParentCategoryId { get; set; }
 
         public virtual Category ParentCategory { get; set; }
+        public virtual ICollection<Category> SubCategories { get; set; }
     }
     
 }
\ No newline at end of file
Index: Zakupowo/Zakupowo.csproj
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<Project ToolsVersion=\"15.0\" DefaultTargets=\"Build\" xmlns=\"http://schemas.microsoft.com/developer/msbuild/2003\">\r\n  <Import Project=\"..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.props\" Condition=\"Exists('..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.props')\" />\r\n  <Import Project=\"..\\packages\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.2.0.1\\build\\net46\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.props\" Condition=\"Exists('..\\packages\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.2.0.1\\build\\net46\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.props')\" />\r\n  <Import Project=\"$(MSBuildExtensionsPath)\\$(MSBuildToolsVersion)\\Microsoft.Common.props\" Condition=\"Exists('$(MSBuildExtensionsPath)\\$(MSBuildToolsVersion)\\Microsoft.Common.props')\" />\r\n  <PropertyGroup>\r\n    <Configuration Condition=\" '$(Configuration)' == '' \">Debug</Configuration>\r\n    <Platform Condition=\" '$(Platform)' == '' \">AnyCPU</Platform>\r\n    <ProductVersion>\r\n    </ProductVersion>\r\n    <SchemaVersion>2.0</SchemaVersion>\r\n    <ProjectGuid>{97B88060-E08A-43CB-9F8C-696E01EF4568}</ProjectGuid>\r\n    <ProjectTypeGuids>{349c5851-65df-11da-9384-00065b846f21};{fae04ec0-301f-11d3-bf4b-00c04f79efbc}</ProjectTypeGuids>\r\n    <OutputType>Library</OutputType>\r\n    <AppDesignerFolder>Properties</AppDesignerFolder>\r\n    <RootNamespace>Zakupowo</RootNamespace>\r\n    <AssemblyName>Zakupowo</AssemblyName>\r\n    <TargetFrameworkVersion>v4.8</TargetFrameworkVersion>\r\n    <MvcBuildViews>false</MvcBuildViews>\r\n    <UseIISExpress>true</UseIISExpress>\r\n    <Use64BitIISExpress />\r\n    <IISExpressSSLPort>44355</IISExpressSSLPort>\r\n    <IISExpressAnonymousAuthentication />\r\n    <IISExpressWindowsAuthentication />\r\n    <IISExpressUseClassicPipelineMode />\r\n    <UseGlobalApplicationHostFile />\r\n    <NuGetPackageImportStamp>\r\n    </NuGetPackageImportStamp>\r\n    <LangVersion>latest</LangVersion>\r\n  </PropertyGroup>\r\n  <PropertyGroup Condition=\" '$(Configuration)|$(Platform)' == 'Debug|AnyCPU' \">\r\n    <DebugSymbols>true</DebugSymbols>\r\n    <DebugType>full</DebugType>\r\n    <Optimize>false</Optimize>\r\n    <OutputPath>bin\\</OutputPath>\r\n    <DefineConstants>DEBUG;TRACE</DefineConstants>\r\n    <ErrorReport>prompt</ErrorReport>\r\n    <WarningLevel>4</WarningLevel>\r\n  </PropertyGroup>\r\n  <PropertyGroup Condition=\" '$(Configuration)|$(Platform)' == 'Release|AnyCPU' \">\r\n    <DebugSymbols>true</DebugSymbols>\r\n    <DebugType>pdbonly</DebugType>\r\n    <Optimize>true</Optimize>\r\n    <OutputPath>bin\\</OutputPath>\r\n    <DefineConstants>TRACE</DefineConstants>\r\n    <ErrorReport>prompt</ErrorReport>\r\n    <WarningLevel>4</WarningLevel>\r\n  </PropertyGroup>\r\n  <ItemGroup>\r\n    <Reference Include=\"BouncyCastle.Cryptography, Version=2.0.0.0, Culture=neutral, PublicKeyToken=072edcf4a5328938, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\BouncyCastle.Cryptography.2.4.0\\lib\\net461\\BouncyCastle.Cryptography.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"EntityFramework, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\EntityFramework.6.4.4\\lib\\net45\\EntityFramework.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"EntityFramework.SqlServer, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\EntityFramework.6.4.4\\lib\\net45\\EntityFramework.SqlServer.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Google.Protobuf, Version=3.26.1.0, Culture=neutral, PublicKeyToken=a7d26565bac4d604, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Google.Protobuf.3.26.1\\lib\\net45\\Google.Protobuf.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.barcodes, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.barcodes.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.bouncy-castle-adapter, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.bouncy-castle-adapter.9.0.0\\lib\\net461\\itext.bouncy-castle-adapter.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.bouncy-castle-connector, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.bouncy-castle-connector.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.commons, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.commons.9.0.0\\lib\\net461\\itext.commons.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.forms, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.forms.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.io, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.io.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.kernel, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.kernel.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.layout, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.layout.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.pdfa, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.pdfa.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.pdfua, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.pdfua.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.sign, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.sign.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.styledxmlparser, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.styledxmlparser.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"itext.svg, Version=9.0.0.0, Culture=neutral, PublicKeyToken=8354ae6d2174ddca, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\itext.9.0.0\\lib\\net461\\itext.svg.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"K4os.Compression.LZ4, Version=1.3.8.0, Culture=neutral, PublicKeyToken=2186fa9121ef231d, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\K4os.Compression.LZ4.1.3.8\\lib\\net462\\K4os.Compression.LZ4.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"K4os.Compression.LZ4.Streams, Version=1.3.8.0, Culture=neutral, PublicKeyToken=2186fa9121ef231d, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\K4os.Compression.LZ4.Streams.1.3.8\\lib\\net462\\K4os.Compression.LZ4.Streams.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"K4os.Hash.xxHash, Version=1.0.8.0, Culture=neutral, PublicKeyToken=32cd54395057cec3, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\K4os.Hash.xxHash.1.0.8\\lib\\net462\\K4os.Hash.xxHash.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Bcl.AsyncInterfaces, Version=5.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Bcl.AsyncInterfaces.5.0.0\\lib\\net461\\Microsoft.Bcl.AsyncInterfaces.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.CSharp\" />\r\n    <Reference Include=\"Microsoft.Extensions.DependencyInjection, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.DependencyInjection.5.0.0\\lib\\net461\\Microsoft.Extensions.DependencyInjection.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Extensions.DependencyInjection.Abstractions, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.DependencyInjection.Abstractions.5.0.0\\lib\\net461\\Microsoft.Extensions.DependencyInjection.Abstractions.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Extensions.Logging, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.Logging.5.0.0\\lib\\net461\\Microsoft.Extensions.Logging.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Extensions.Logging.Abstractions, Version=7.0.0.1, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.Logging.Abstractions.7.0.1\\lib\\net462\\Microsoft.Extensions.Logging.Abstractions.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Extensions.Options, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.Options.5.0.0\\lib\\net461\\Microsoft.Extensions.Options.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Microsoft.Extensions.Primitives, Version=5.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\Microsoft.Extensions.Primitives.5.0.0\\lib\\net461\\Microsoft.Extensions.Primitives.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"mscorlib\" />\r\n    <Reference Include=\"MySql.Data, Version=9.1.0.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\MySql.Data.9.1.0\\lib\\net48\\MySql.Data.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"MySql.Data.EntityFramework, Version=9.1.0.0, Culture=neutral, PublicKeyToken=c5687fc88969c44d, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\MySql.Data.EntityFramework.9.1.0\\lib\\net48\\MySql.Data.EntityFramework.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"MySqlConnector, Version=2.0.0.0, Culture=neutral, PublicKeyToken=d33d3e53aa5f8c92, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\MySqlConnector.2.3.7\\lib\\net48\\MySqlConnector.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System\" />\r\n    <Reference Include=\"System.Buffers, Version=4.0.3.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Buffers.4.5.1\\lib\\net461\\System.Buffers.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Configuration.ConfigurationManager, Version=8.0.0.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Configuration.ConfigurationManager.8.0.0\\lib\\net462\\System.Configuration.ConfigurationManager.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Data\" />\r\n    <Reference Include=\"System.Diagnostics.DiagnosticSource, Version=8.0.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Diagnostics.DiagnosticSource.8.0.1\\lib\\net462\\System.Diagnostics.DiagnosticSource.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Drawing\" />\r\n    <Reference Include=\"System.IO.Pipelines, Version=5.0.0.2, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.IO.Pipelines.5.0.2\\lib\\net461\\System.IO.Pipelines.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Management\" />\r\n    <Reference Include=\"System.Memory, Version=4.0.1.2, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Memory.4.5.5\\lib\\net461\\System.Memory.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Numerics\" />\r\n    <Reference Include=\"System.Numerics.Vectors, Version=4.1.4.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Numerics.Vectors.4.5.0\\lib\\net46\\System.Numerics.Vectors.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Runtime.CompilerServices.Unsafe, Version=6.0.0.0, Culture=neutral, PublicKeyToken=b03f5f7f11d50a3a, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Runtime.CompilerServices.Unsafe.6.0.0\\lib\\net461\\System.Runtime.CompilerServices.Unsafe.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Security\" />\r\n    <Reference Include=\"System.Threading.Tasks.Extensions, Version=4.2.0.1, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.Threading.Tasks.Extensions.4.5.4\\lib\\net461\\System.Threading.Tasks.Extensions.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Transactions\" />\r\n    <Reference Include=\"System.ValueTuple, Version=4.0.3.0, Culture=neutral, PublicKeyToken=cc7b13ffcd2ddd51, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\System.ValueTuple.4.5.0\\lib\\net47\\System.ValueTuple.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.DynamicData\" />\r\n    <Reference Include=\"System.Web.Entity\" />\r\n    <Reference Include=\"System.Web.ApplicationServices\" />\r\n    <Reference Include=\"System.ComponentModel.DataAnnotations\" />\r\n    <Reference Include=\"System.Core\" />\r\n    <Reference Include=\"System.Data.DataSetExtensions\" />\r\n    <Reference Include=\"System.Xml.Linq\" />\r\n    <Reference Include=\"System.Web\" />\r\n    <Reference Include=\"System.Web.Extensions\" />\r\n    <Reference Include=\"System.Web.Abstractions\" />\r\n    <Reference Include=\"System.Web.Routing\" />\r\n    <Reference Include=\"System.Xml\" />\r\n    <Reference Include=\"System.Configuration\" />\r\n    <Reference Include=\"System.Web.Services\" />\r\n    <Reference Include=\"System.EnterpriseServices\" />\r\n    <Reference Include=\"Microsoft.Web.Infrastructure, Version=2.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.Web.Infrastructure.2.0.0\\lib\\net40\\Microsoft.Web.Infrastructure.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Net.Http\">\r\n    </Reference>\r\n    <Reference Include=\"System.Net.Http.WebRequest\">\r\n    </Reference>\r\n    <Reference Include=\"System.Web.Helpers, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.WebPages.3.2.9\\lib\\net45\\System.Web.Helpers.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.Mvc, Version=5.2.9.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.Mvc.5.2.9\\lib\\net45\\System.Web.Mvc.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.Optimization\">\r\n      <HintPath>..\\packages\\Microsoft.AspNet.Web.Optimization.1.1.3\\lib\\net40\\System.Web.Optimization.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.Razor.3.2.9\\lib\\net45\\System.Web.Razor.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.WebPages, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.WebPages.3.2.9\\lib\\net45\\System.Web.WebPages.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.WebPages.Deployment, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.WebPages.3.2.9\\lib\\net45\\System.Web.WebPages.Deployment.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"System.Web.WebPages.Razor, Version=3.0.0.0, Culture=neutral, PublicKeyToken=31bf3856ad364e35, processorArchitecture=MSIL\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Microsoft.AspNet.WebPages.3.2.9\\lib\\net45\\System.Web.WebPages.Razor.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Newtonsoft.Json\">\r\n      <HintPath>..\\packages\\Newtonsoft.Json.13.0.3\\lib\\net45\\Newtonsoft.Json.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"WebGrease\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\WebGrease.1.6.0\\lib\\WebGrease.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"Antlr3.Runtime\">\r\n      <Private>True</Private>\r\n      <HintPath>..\\packages\\Antlr.3.5.0.2\\lib\\Antlr3.Runtime.dll</HintPath>\r\n    </Reference>\r\n    <Reference Include=\"ZstdSharp, Version=0.8.0.0, Culture=neutral, PublicKeyToken=8d151af33a4ad5cf, processorArchitecture=MSIL\">\r\n      <HintPath>..\\packages\\ZstdSharp.Port.0.8.0\\lib\\net462\\ZstdSharp.dll</HintPath>\r\n    </Reference>\r\n  </ItemGroup>\r\n  <ItemGroup>\r\n    <Reference Include=\"Microsoft.CodeDom.Providers.DotNetCompilerPlatform\">\r\n      <HintPath>..\\packages\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.2.0.1\\lib\\net45\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.dll</HintPath>\r\n    </Reference>\r\n  </ItemGroup>\r\n  <ItemGroup>\r\n    <Compile Include=\"App_Start\\BundleConfig.cs\" />\r\n    <Compile Include=\"App_Start\\ExchangeRateBackgroundTask.cs\" />\r\n    <Compile Include=\"App_Start\\FilterConfig.cs\" />\r\n    <Compile Include=\"App_Start\\RouteConfig.cs\" />\r\n    <Compile Include=\"Controllers\\AccountController.cs\" />\r\n    <Compile Include=\"Controllers\\BaseController.cs\" />\r\n    <Compile Include=\"Controllers\\CartController.cs\" />\r\n    <Compile Include=\"Controllers\\CategoryController.cs\" />\r\n    <Compile Include=\"Controllers\\HomeController.cs\" />\r\n    <Compile Include=\"Controllers\\OrderController.cs\" />\r\n    <Compile Include=\"Controllers\\ProductController.cs\" />\r\n    <Compile Include=\"Controllers\\ThemeController.cs\" />\r\n    <Compile Include=\"Controllers\\UserController.cs\" />\r\n    <Compile Include=\"Global.asax.cs\">\r\n      <DependentUpon>Global.asax</DependentUpon>\r\n    </Compile>\r\n    <Compile Include=\"Models\\Cart.cs\" />\r\n    <Compile Include=\"Models\\CartItem.cs\" />\r\n    <Compile Include=\"Models\\Category.cs\" />\r\n    <Compile Include=\"Models\\Currency.cs\" />\r\n    <Compile Include=\"Models\\Order.cs\" />\r\n    <Compile Include=\"Models\\OrderItem.cs\" />\r\n    <Compile Include=\"Models\\PaymentMethod.cs\" />\r\n    <Compile Include=\"Models\\Product.cs\" />\r\n    <Compile Include=\"Models\\ProductFile.cs\" />\r\n    <Compile Include=\"Models\\Promotion.cs\" />\r\n    <Compile Include=\"Models\\ShippingMethod.cs\" />\r\n    <Compile Include=\"Models\\User.cs\" />\r\n    <Compile Include=\"Models\\UserRegistrationModel.cs\" />\r\n    <Compile Include=\"Models\\VatRate.cs\" />\r\n    <Compile Include=\"Models\\ZakupowoDbContext.cs\" />\r\n    <Compile Include=\"Properties\\AssemblyInfo.cs\" />\r\n    <Compile Include=\"Services\\ExchangeRateService.cs\" />\r\n  </ItemGroup>\r\n  <ItemGroup>\r\n    <Content Include=\"Content\\BlueTheme.css\" />\r\n    <Content Include=\"Content\\bootstrap-grid.css\" />\r\n    <Content Include=\"Content\\bootstrap-grid.min.css\" />\r\n    <Content Include=\"Content\\bootstrap-grid.rtl.css\" />\r\n    <Content Include=\"Content\\bootstrap-grid.rtl.min.css\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.css\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.min.css\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.rtl.css\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.rtl.min.css\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.css\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.min.css\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.rtl.css\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.rtl.min.css\" />\r\n    <Content Include=\"Content\\bootstrap.css\" />\r\n    <Content Include=\"Content\\bootstrap.min.css\" />\r\n    <Content Include=\"Content\\bootstrap.rtl.css\" />\r\n    <Content Include=\"Content\\bootstrap.rtl.min.css\" />\r\n    <Content Include=\"Content\\DarkTheme.css\" />\r\n    <Content Include=\"Content\\LightTheme.css\" />\r\n    <Content Include=\"favicon.ico\" />\r\n    <Content Include=\"Fonts\\arial.ttf\" />\r\n    <Content Include=\"Global.asax\" />\r\n    <Content Include=\"Content\\Site.css\" />\r\n    <Content Include=\"Images\\Chleb.jpg\" />\r\n    <Content Include=\"Scripts\\bootstrap.bundle.js\" />\r\n    <Content Include=\"Scripts\\bootstrap.bundle.min.js\" />\r\n    <Content Include=\"Scripts\\bootstrap.esm.js\" />\r\n    <Content Include=\"Scripts\\bootstrap.esm.min.js\" />\r\n    <Content Include=\"Scripts\\bootstrap.js\" />\r\n    <Content Include=\"Scripts\\bootstrap.min.js\" />\r\n    <None Include=\"Scripts\\jquery-3.7.0.intellisense.js\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.js\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.min.js\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.slim.js\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.slim.min.js\" />\r\n    <None Include=\"Scripts\\jquery.validate-vsdoc.js\" />\r\n    <Content Include=\"Scripts\\jquery.validate.js\" />\r\n    <Content Include=\"Scripts\\jquery.validate.min.js\" />\r\n    <Content Include=\"Scripts\\jquery.validate.unobtrusive.js\" />\r\n    <Content Include=\"Scripts\\jquery.validate.unobtrusive.min.js\" />\r\n    <Content Include=\"Scripts\\modernizr-2.8.3.js\" />\r\n    <Content Include=\"Views\\Cart\\Checkout.cshtml\" />\r\n    <Content Include=\"Views\\Category\\AdminCategoryList.cshtml\" />\r\n    <Content Include=\"Views\\Category\\CategoryList.cshtml\" />\r\n    <Content Include=\"Views\\Category\\DeleteCategory.cshtml\" />\r\n    <Content Include=\"Views\\Category\\EditCategory.cshtml\" />\r\n    <Content Include=\"Views\\Order\\OrderDetails.cshtml\" />\r\n    <Content Include=\"Views\\Order\\OrderSummary.cshtml\" />\r\n    <Content Include=\"Views\\Product\\AdminProductList.cshtml\" />\r\n    <Content Include=\"Views\\Product\\ProductDelete.cshtml\" />\r\n    <Content Include=\"Views\\Product\\ProductDetails.cshtml\" />\r\n    <Content Include=\"Views\\Product\\ProductEdit.cshtml\" />\r\n    <Content Include=\"Views\\Product\\ProductList.cshtml\" />\r\n    <Content Include=\"Views\\Product\\Trash.cshtml\" />\r\n    <Content Include=\"Views\\User\\ChangePassword.cshtml\" />\r\n    <Content Include=\"Views\\User\\Create.cshtml\" />\r\n    <Content Include=\"Views\\User\\Delete.cshtml\" />\r\n    <Content Include=\"Views\\User\\Details.cshtml\" />\r\n    <Content Include=\"Views\\User\\Edit.cshtml\" />\r\n    <Content Include=\"Views\\User\\EditProfile.cshtml\" />\r\n    <Content Include=\"Views\\User\\OrderDetails.cshtml\" />\r\n    <Content Include=\"Views\\User\\OrderList.cshtml\" />\r\n    <Content Include=\"Views\\User\\Profile.cshtml\" />\r\n    <Content Include=\"Views\\User\\UserList.cshtml\" />\r\n    <Content Include=\"Web.config\" />\r\n    <Content Include=\"Web.Debug.config\">\r\n      <DependentUpon>Web.config</DependentUpon>\r\n    </Content>\r\n    <Content Include=\"Web.Release.config\">\r\n      <DependentUpon>Web.config</DependentUpon>\r\n    </Content>\r\n    <Content Include=\"Views\\Web.config\" />\r\n    <Content Include=\"Views\\_ViewStart.cshtml\" />\r\n    <Content Include=\"Views\\Shared\\Error.cshtml\" />\r\n    <Content Include=\"Views\\Shared\\_Layout.cshtml\" />\r\n    <Content Include=\"Views\\Home\\About.cshtml\" />\r\n    <Content Include=\"Views\\Home\\Contact.cshtml\" />\r\n    <Content Include=\"Views\\Home\\Index.cshtml\" />\r\n    <Content Include=\"Views\\Account\\Login.cshtml\" />\r\n    <Content Include=\"Views\\Account\\Register.cshtml\" />\r\n    <Content Include=\"Views\\Product\\AddProduct.cshtml\" />\r\n    <Content Include=\"Views\\Category\\AddCategory.cshtml\" />\r\n    <Content Include=\"Views\\Cart\\Cart.cshtml\" />\r\n  </ItemGroup>\r\n  <ItemGroup>\r\n    <Folder Include=\"App_Data\\\" />\r\n  </ItemGroup>\r\n  <ItemGroup>\r\n    <Content Include=\"Content\\bootstrap.rtl.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap.rtl.css.map\" />\r\n    <Content Include=\"Content\\bootstrap.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.rtl.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.rtl.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-utilities.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.rtl.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.rtl.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-reboot.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-grid.rtl.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-grid.rtl.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-grid.min.css.map\" />\r\n    <Content Include=\"Content\\bootstrap-grid.css.map\" />\r\n    <None Include=\"packages.config\" />\r\n    <Content Include=\"Scripts\\bootstrap.min.js.map\" />\r\n    <Content Include=\"Scripts\\bootstrap.js.map\" />\r\n    <Content Include=\"Scripts\\bootstrap.esm.min.js.map\" />\r\n    <Content Include=\"Scripts\\bootstrap.esm.js.map\" />\r\n    <Content Include=\"Scripts\\bootstrap.bundle.min.js.map\" />\r\n    <Content Include=\"Scripts\\bootstrap.bundle.js.map\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.slim.min.map\" />\r\n    <Content Include=\"Scripts\\jquery-3.7.0.min.map\" />\r\n  </ItemGroup>\r\n  <PropertyGroup>\r\n    <VisualStudioVersion Condition=\"'$(VisualStudioVersion)' == ''\">10.0</VisualStudioVersion>\r\n    <VSToolsPath Condition=\"'$(VSToolsPath)' == ''\">$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v$(VisualStudioVersion)</VSToolsPath>\r\n  </PropertyGroup>\r\n  <Import Project=\"$(MSBuildBinPath)\\Microsoft.CSharp.targets\" />\r\n  <Import Project=\"$(VSToolsPath)\\WebApplications\\Microsoft.WebApplication.targets\" Condition=\"'$(VSToolsPath)' != ''\" />\r\n  <Import Project=\"$(MSBuildExtensionsPath32)\\Microsoft\\VisualStudio\\v10.0\\WebApplications\\Microsoft.WebApplication.targets\" Condition=\"false\" />\r\n  <Target Name=\"MvcBuildViews\" AfterTargets=\"AfterBuild\" Condition=\"'$(MvcBuildViews)'=='true'\">\r\n    <AspNetCompiler VirtualPath=\"temp\" PhysicalPath=\"$(WebProjectOutputDir)\" />\r\n  </Target>\r\n  <ProjectExtensions>\r\n    <VisualStudio>\r\n      <FlavorProperties GUID=\"{349c5851-65df-11da-9384-00065b846f21}\">\r\n        <WebProjectProperties>\r\n          <UseIIS>True</UseIIS>\r\n          <AutoAssignPort>True</AutoAssignPort>\r\n          <DevelopmentServerPort>63916</DevelopmentServerPort>\r\n          <DevelopmentServerVPath>/</DevelopmentServerVPath>\r\n          <IISUrl>https://localhost:44355/</IISUrl>\r\n          <NTLMAuthentication>False</NTLMAuthentication>\r\n          <UseCustomServer>False</UseCustomServer>\r\n          <CustomServerUrl>\r\n          </CustomServerUrl>\r\n          <SaveServerSettingsInUserFile>False</SaveServerSettingsInUserFile>\r\n        </WebProjectProperties>\r\n      </FlavorProperties>\r\n    </VisualStudio>\r\n  </ProjectExtensions>\r\n  <Target Name=\"EnsureNuGetPackageBuildImports\" BeforeTargets=\"PrepareForBuild\">\r\n    <PropertyGroup>\r\n      <ErrorText>Ten projekt zawiera odwołania do pakietów NuGet, których nie ma na tym komputerze. Użyj przywracania pakietów NuGet, aby je pobrać. Aby uzyskać więcej informacji, zobacz http://go.microsoft.com/fwlink/?LinkID=322105. Brakujący plik: {0}.</ErrorText>\r\n    </PropertyGroup>\r\n    <Error Condition=\"!Exists('..\\packages\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.2.0.1\\build\\net46\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.props')\" Text=\"$([System.String]::Format('$(ErrorText)', '..\\packages\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.2.0.1\\build\\net46\\Microsoft.CodeDom.Providers.DotNetCompilerPlatform.props'))\" />\r\n    <Error Condition=\"!Exists('..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.props')\" Text=\"$([System.String]::Format('$(ErrorText)', '..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.props'))\" />\r\n    <Error Condition=\"!Exists('..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.targets')\" Text=\"$([System.String]::Format('$(ErrorText)', '..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.targets'))\" />\r\n  </Target>\r\n  <Import Project=\"..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.targets\" Condition=\"Exists('..\\packages\\EntityFramework.6.4.4\\build\\EntityFramework.targets')\" />\r\n  <!-- To modify your build process, add your task inside one of the targets below and uncomment it.\r\n       Other similar extension points exist, see Microsoft.Common.targets.\r\n  <Target Name=\"BeforeBuild\">\r\n  </Target>\r\n  <Target Name=\"AfterBuild\">\r\n  </Target> -->\r\n</Project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Zakupowo.csproj b/Zakupowo/Zakupowo.csproj
--- a/Zakupowo/Zakupowo.csproj	(revision fa7f8c2aa8c1fb498f0b7c4313ea8a4ea8f1b644)
+++ b/Zakupowo/Zakupowo.csproj	(date 1734193156962)
@@ -325,6 +325,7 @@
     <Content Include="Views\Category\CategoryList.cshtml" />
     <Content Include="Views\Category\DeleteCategory.cshtml" />
     <Content Include="Views\Category\EditCategory.cshtml" />
+    <Content Include="Views\Category\_CategoryTree.cshtml" />
     <Content Include="Views\Order\OrderDetails.cshtml" />
     <Content Include="Views\Order\OrderSummary.cshtml" />
     <Content Include="Views\Product\AdminProductList.cshtml" />
Index: Zakupowo/Views/User/EditProfile.cshtml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>@model Zakupowo.Models.User\r\n\r\n<h2>Edytuj dane użytkownika</h2>\r\n@using (Html.BeginForm())\r\n{\r\n@Html.AntiForgeryToken()\r\n\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.Username)\r\n    @Html.TextBoxFor(model => model.Username, new { @class = \"form-control\" })\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.Email)\r\n    @Html.TextBoxFor(model => model.Email, new { @class = \"form-control\" })\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.FirstName)\r\n    @Html.TextBoxFor(model => model.FirstName, new { @class = \"form-control\" })\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.LastName)\r\n    @Html.TextBoxFor(model => model.LastName, new { @class = \"form-control\" })\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.Address)\r\n    @Html.TextBoxFor(model => model.Address, new { @class = \"form-control\" })\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.Newsletter)\r\n    @Html.CheckBoxFor(model => model.Newsletter)\r\n</div>\r\n<div class=\"form-group\">\r\n    @Html.LabelFor(model => model.Discount)\r\n    @Html.TextBoxFor(model => model.Discount, new { @class = \"form-control\" })\r\n</div>\r\n\r\n<button type=\"submit\" class=\"btn btn-primary\">Zapisz zmiany</button>\r\n}
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Views/User/EditProfile.cshtml b/Zakupowo/Views/User/EditProfile.cshtml
--- a/Zakupowo/Views/User/EditProfile.cshtml	(revision fa7f8c2aa8c1fb498f0b7c4313ea8a4ea8f1b644)
+++ b/Zakupowo/Views/User/EditProfile.cshtml	(date 1734191502660)
@@ -1,38 +1,74 @@
 @model Zakupowo.Models.User
+@{
+    ViewBag.Title = "Edytuj";
+    Layout = "~/Views/Shared/_Layout.cshtml";
+}
 
-<h2>Edytuj dane użytkownika</h2>
+<h2>Edytuj użytkownika</h2>
 @using (Html.BeginForm())
 {
-@Html.AntiForgeryToken()
+    @Html.AntiForgeryToken()
+    @Html.HiddenFor(model => model.UserId)
 
-<div class="form-group">
+    <div class="form-group">
     @Html.LabelFor(model => model.Username)
-    @Html.TextBoxFor(model => model.Username, new { @class = "form-control" })
+    @Html.EditorFor(model => model.Username, new { htmlAttributes = new { @class = "form-control" } })
+    @Html.ValidationMessageFor(model => model.Username)
+</div>
+
+<div class="form-group">
+    @Html.LabelFor(model => model.Password)
+    @Html.PasswordFor(model => model.Password, new { @class = "form-control", @placeholder = "Zostaw puste, aby nie zmieniać hasła" })
+    @Html.ValidationMessageFor(model => model.Password)
 </div>
+
 <div class="form-group">
     @Html.LabelFor(model => model.Email)
-    @Html.TextBoxFor(model => model.Email, new { @class = "form-control" })
+    @Html.EditorFor(model => model.Email, new { htmlAttributes = new { @class = "form-control" } })
+    @Html.ValidationMessageFor(model => model.Email)
 </div>
+
 <div class="form-group">
     @Html.LabelFor(model => model.FirstName)
-    @Html.TextBoxFor(model => model.FirstName, new { @class = "form-control" })
+    @Html.EditorFor(model => model.FirstName, new { htmlAttributes = new { @class = "form-control" } })
+    @Html.ValidationMessageFor(model => model.FirstName)
 </div>
+
 <div class="form-group">
     @Html.LabelFor(model => model.LastName)
-    @Html.TextBoxFor(model => model.LastName, new { @class = "form-control" })
+    @Html.EditorFor(model => model.LastName, new { htmlAttributes = new { @class = "form-control" } })
+    @Html.ValidationMessageFor(model => model.LastName)
 </div>
+
 <div class="form-group">
     @Html.LabelFor(model => model.Address)
-    @Html.TextBoxFor(model => model.Address, new { @class = "form-control" })
+    @Html.EditorFor(model => model.Address, new { htmlAttributes = new { @class = "form-control" } })
+    @Html.ValidationMessageFor(model => model.Address)
+</div>
+
+<div class="form-group">
+    @Html.LabelFor(model => model.IsAdmin)
+    @Html.CheckBoxFor(model => model.IsAdmin)
+    @Html.ValidationMessageFor(model => model.IsAdmin)
 </div>
+
 <div class="form-group">
     @Html.LabelFor(model => model.Newsletter)
     @Html.CheckBoxFor(model => model.Newsletter)
+    @Html.ValidationMessageFor(model => model.Newsletter)
 </div>
-<div class="form-group">
-    @Html.LabelFor(model => model.Discount)
-    @Html.TextBoxFor(model => model.Discount, new { @class = "form-control" })
-</div>
+if (Session["IsAdmin"] is true)
+{
+    <div class="form-group">
+        @Html.LabelFor(model => model.Discount, "Upust")
+        @Html.EditorFor(model => model.Discount, new { htmlAttributes = new { @class = "form-control", @placeholder = "Wprowadź upust (np. 0.1)" } })
+        @Html.ValidationMessageFor(model => model.Discount)
+    </div>
+}
 
 <button type="submit" class="btn btn-primary">Zapisz zmiany</button>
-}
\ No newline at end of file
+Session["UserDiscount"] = Model.Discount ?? 0;
+}
+<p>
+    @Html.ActionLink("Powrót do listy", "UserList", null, new { @class = "btn btn-secondary" })
+</p>
\ No newline at end of file
Index: Zakupowo/Views/Category/_CategoryTree.cshtml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/Zakupowo/Views/Category/_CategoryTree.cshtml b/Zakupowo/Views/Category/_CategoryTree.cshtml
new file mode 100644
--- /dev/null	(date 1734192099118)
+++ b/Zakupowo/Views/Category/_CategoryTree.cshtml	(date 1734192099118)
@@ -0,0 +1,16 @@
+@model Zakupowo.Models.Category
+
+<li>
+    @Model.Name
+    @Html.ActionLink("Generuj cennik PDF", "GeneratePdf", "Category", new { categoryId = Model.CategoryId }, new { @class = "btn btn-primary btn-sm" })
+
+    @if (Model.SubCategories != null && Model.SubCategories.Any())
+    {
+        <ul>
+            @foreach (var subCategory in Model.SubCategories)
+            {
+                @Html.Partial("_CategoryTree", subCategory)
+            }
+        </ul>
+    }
+</li>
\ No newline at end of file
